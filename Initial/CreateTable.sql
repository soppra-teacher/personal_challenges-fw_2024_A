
---------------------------------------------------------------------
--Table:MST_USER(ユーザマスタ)
CREATE TABLE MST_USER( 
  USER_ID VARCHAR2(12) PRIMARY KEY
  , PASS VARCHAR2(12) NOT NULL
); 

COMMENT 
  ON TABLE MST_USER IS 'ユーザマスタ'; 

COMMENT 
  ON COLUMN MST_USER.USER_ID IS 'ユーザID'; 

COMMENT 
  ON COLUMN MST_USER.PASS IS 'パスワード'; 

SELECT
  * 
FROM
  MST_USER; 

---------------------------------------------------------------------
--Table:TBL_KANKOU(観光地テーブル)
CREATE TABLE TBL_KANKOU( 
  KANKOU_ID NUMBER GENERATED BY
    DEFAULT AS IDENTITY
    , USER_ID VARCHAR2(12) NOT NULL
    , KEN_CD VARCHAR2(2) NOT NULL
    , CATEGORY_ID NUMBER NOT NULL
    , KANKOU_NM NVARCHAR2(20) NOT NULL
    , SETSUMEI NVARCHAR2(100) NOT NULL
    , REVIEW NVARCHAR2(1000)
    , FILE_NM NVARCHAR2(100)
    , CONSTRAINT MST_KANKOU_PK PRIMARY KEY (KANKOU_ID)
	, CONSTRAINT MST_KANKOU_USER FOREIGN KEY (USER_ID) REFERENCES MST_USER(USER_ID) 
	, CONSTRAINT MST_KANKOU_KEN FOREIGN KEY (KEN_CD) REFERENCES MST_TODOUHUKEN(KEN_CD)
	, CONSTRAINT MST_KANKOU_CATEGORY FOREIGN KEY (CATEGORY_ID) REFERENCES TBL_CATEGORY(CATEGORY_ID)
); 



COMMENT 
  ON TABLE TBL_KANKOU IS '観光地テーブル'; 

COMMENT 
  ON COLUMN TBL_KANKOU.KANKOU_ID IS '観光地ID'; 

COMMENT 
  ON COLUMN TBL_KANKOU.USER_ID IS 'ユーザID'; 

COMMENT 
  ON COLUMN TBL_KANKOU.KEN_CD IS '都道府県コード'; 

COMMENT 
  ON COLUMN TBL_KANKOU.CATEGORY_ID IS 'カテゴリID'; 

COMMENT 
  ON COLUMN TBL_KANKOU.KANKOU_NM IS '観光地名'; 

COMMENT 
  ON COLUMN TBL_KANKOU.SETSUMEI IS '説明'; 

COMMENT 
  ON COLUMN TBL_KANKOU.REVIEW IS 'レビュー'; 

COMMENT 
  ON COLUMN TBL_KANKOU.FILE_NM IS 'ファイル名'; 

---------------------------------------------------------------------
--Table:MST_TIHOU(地方マスタ)
CREATE TABLE MST_TIHOU( 
  TIHOU_CD VARCHAR2(1) PRIMARY KEY
  , TIHOU_NM NVARCHAR2(7) NOT NULL
); 

COMMENT 
  ON TABLE MST_TIHOU IS '地方マスタ'; 

COMMENT 
  ON COLUMN MST_TIHOU.TIHOU_CD IS '地方コード'; 

COMMENT 
  ON COLUMN MST_TIHOU.TIHOU_NM IS '地方名'; 

---------------------------------------------------------------------
--Table:TBL_HYOUKATI(評価値テーブル)
CREATE TABLE TBL_HYOUKATI( 
  KANKOU_ID NUMBER NOT NULL
  , USER_ID VARCHAR2(12) NOT NULL
  , HYOUKATI NUMBER
  , CONSTRAINT TBL_HYOUKATI_PK PRIMARY KEY (KANKOU_ID, USER_ID)
); 

COMMENT 
  ON TABLE TBL_HYOUKATI IS '評価値テーブル'; 

COMMENT 
  ON COLUMN TBL_HYOUKATI.KANKOU_ID IS '観光地ID'; 

COMMENT 
  ON COLUMN TBL_HYOUKATI.USER_ID IS 'ユーザID'; 

COMMENT 
  ON COLUMN TBL_HYOUKATI.HYOUKATI IS '評価値'; 

---------------------------------------------------------------------
--Table:MST_TODOUHUKEN(都道府県マスタ)
CREATE TABLE MST_TODOUHUKEN( 
  KEN_CD VARCHAR2(2) NOT NULL PRIMARY KEY
  , TIHOU_CD VARCHAR2(1) NOT NULL
  , KEN_NM NVARCHAR2(10) NOT NULL
); 

COMMENT 
  ON TABLE MST_TODOUHUKEN IS '都道府県マスタ'; 

COMMENT 
  ON COLUMN MST_TODOUHUKEN.KEN_CD IS '都道府県コード'; 

COMMENT 
  ON COLUMN MST_TODOUHUKEN.TIHOU_CD IS '地方コード'; 

COMMENT 
  ON COLUMN MST_TODOUHUKEN.KEN_NM IS '都道府県名'; 

---------------------------------------------------------------------
--Table:TBL_CATEGORY(カテゴリテーブル)
CREATE TABLE TBL_CATEGORY( 
  CATEGORY_ID NUMBER GENERATED BY
    DEFAULT AS IDENTITY PRIMARY KEY
    , CATEGORY_NM NVARCHAR2(5) NOT NULL
);

COMMENT 
  ON TABLE TBL_CATEGORY IS 'カテゴリテーブル'; 

COMMENT 
  ON COLUMN TBL_CATEGORY.CATEGORY_ID IS 'カテゴリID';
  
COMMENT 
  ON COLUMN TBL_CATEGORY.CATEGORY_NM IS 'カテゴリ名';
 

